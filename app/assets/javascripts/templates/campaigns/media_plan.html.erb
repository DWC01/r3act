 <div class="r3-page-header">
    <h2 class="center"> 
      {{ campaign.name }}
    </h2>
  </div>

<div ng-controller="mediaPlanController">
  <!-- <table class="table table-bordered table-hover table-condensed">
    <tr style="font-weight: bold">
      <td style="width:16%; text-align:center;">Brand</td>
      <td style="width:16%; text-align:center;" >Start Date</td>
      <td style="width:16%; text-align:center;">End Date</td>
      <td style="width:16%; text-align:center;">Update</td>
    </tr>
    <tr>
      <td>
        <span class="non-editable-wrap" 
              editable-text="campaign.advertiser" 
              e-name="advertiser" e-form="rowform"  >
          {{ campaign.advertiser || '-' }}
        </span>
      </td>
      <td>
        <span class="non-editable-wrap" 
              editable-text="campaign.start_date" 
              e-name="start_date" e-form="rowform" >
          {{ campaign.start_date || '-' }}
        </span>
      </td>
      <td>
        <span class="non-editable-wrap" 
              editable-text="campaign.end_date"
              e-name="end_date" e-form="rowform" >
          {{ campaign.end_date || '-' }}
        </span>
      </td>

      <td>
        <form editable-form name="rowform" shown="false"
             onaftersave="campaign.save()"
             ng-show="rowform.$visible" 
             class="form-buttons form-inline" 
             shown="inserted == campaign">
          <button type="submit" ng-disabled="rowform.$waiting" 
                  class="btn btn-primary">
            save
          </button>

          <button type="button" ng-disabled="rowform.$waiting" 
                  ng-click="rowform.$cancel()" 
                  class="btn btn-default">
            cancel
          </button>
        </form>
        <div class="buttons" ng-show="!rowform.$visible">
          <button class="btn btn-primary" ng-click="rowform.$show()">
            edit
          </button>
        </div>  
      </td>
    </tr>
  </table> -->

   <div ng-repeat="partner in mediaPartners">

    <div class="r3-page-header" style="position:relative;">
      <h2 class="text-left"> 
         {{partner}}
      </h2>
    </div>

    <table st-table="mediaPlan" class="table table-ad-tags">
      <tr>
        <!-- <td class="header-cells">
          Start Date
        </td>
        <td class="header-cells">
          End Date
        </td> -->
        <td class="header-cells">
          Size
        </td>
        <td class="header-cells">
          Ad Details
        </td>
        <td class="header-cells" >
          Device
        </td>
        <td class="header-cells">
          Ad Type
        </td>
        <td class="header-cells">
          Unit Cost
        </td>
        <td class="header-cells">
          Est. Impessions
        </td>
        <td class="header-cells">
          Total Cost
        </td>
      </tr>

        <tr ng-repeat="adTag in adTags | filter:partner" 
            ng-click="rowformAdTags.$show()">
          <!-- <td class="row-cells">
            <span editable-date="adTag.start_date" 
                  e-name="start_date" e-form="rowformAdTags" >
              {{ adTag.date || '-' | date }}
            </span>
          </td>
          <td class="row-cells">
            <span editable-date="adTag.end_date"
                  e-name="end_date" e-form="rowformAdTags" >
              {{ adTag.end_date || '-' | date }}
            </span>
          </td> -->
          <td class="row-cells">
            <span class="non-editable-wrap" 
                  editable-text="adTag.size"
                  ng-show="!rowformAdTags.$visible"
                  e-name="size" e-form="rowformAdTags"  >
              {{ adTag.size || '-' }}
            </span>
          </td>
          <td class="row-cells">
            <span class="non-editable-wrap" 
                  editable-text="adTag.placement_name" 
                  ng-show="!rowformAdTags.$visible"
                  e-name="placement_name" e-form="rowformAdTags" >
              {{ adTag.placement_name || '-' }}
            </span>
          </td>
          <td class="row-cells">
            <span class="non-editable-wrap" 
                  editable-text="adTag.device"
                  ng-show="!rowformAdTags.$visible"
                  e-name="device" e-form="rowformAdTags"  >
              {{ adTag.device || '-' }}
            </span>
          </td>
          <td class="row-cells">
            <span class="non-editable-wrap" 
                  editable-text="adTag.ad_type"
                  ng-show="!rowformAdTags.$visible"
                  e-name="ad_type" e-form="rowformAdTags"  >
              {{ adTag.ad_type || '-' }}
            </span>
          </td>
          <td class="row-cells">
            <span class="non-editable-wrap" 
                  editable-text="adTag.unit_cost"
                  ng-show="!rowformAdTags.$visible"
                  e-name="unit_cost" e-form="rowformAdTags"  >
              {{ adTag.unit_cost || '-'  | currency }}
            </span>
          </td>
          <td class="row-cells">
            <span class="non-editable-wrap" 
                  editable-text="adTag.impressions"
                  ng-show="!rowformAdTags.$visible"
                  e-name="impressions" e-form="rowformAdTags"  >
              {{ adTag.impressions || '-' }}
            </span>
          </td>
          <td class="row-cells">
            <span class="non-editable-wrap" 
                  editable-text="adTag.total_cost" 
                  ng-show="!rowformAdTags.$visible"
                  e-name="total_cost" e-form="rowformAdTags"  >
              {{ adTag.total_cost || '-'  | currency }}
            </span>
          </td>

          <td class="edit-row-cell">
            <form editable-form name="rowformAdTags" shown="false"
                 onaftersave="adTag.save()"
                 ng-show="rowformAdTags.$visible" 
                 class="form-buttons form-inline" 
                 shown="inserted == campaign">

              <md-button type="submit" class="md-fab btn-save-ad-tag" 
                         ng-disabled="rowformAdTags.$waiting"
                         aria-label="Save">
                <i class="fa fa-check"></i>
              </md-button>

              <md-button class="md-fab btn-cancel-ad-tag" 
                         ng-disabled="rowformAdTags.$waiting"
                         ng-click="rowformAdTags.$cancel()">
                <i class="fa fa-times"></i>
              </md-button>

            </form>  
          </td>
        </tr>
      </table>
  </div><!-- end ngRepeat MediaPartners -->


</div>
